#!/bin/bash

master_wfs="ERP-BATCH-FIN-BANK-STATEMENT-IN ERP-BATCH-HR-EMPLOYEE-DETAIL-OUT ERP-BATCH-HR-NEW-HIRES-IN ERP-BATCH-HR-OPEN-POSITIONS-OUT ERP-BATCH-HR-PAYROLL-OUT ERP-BATCH-O2C-COMMISSIONS-IN ERP-BATCH-O2C-GL-JOURNAL-IN ERP-BATCH-O2C-MASTER-PARTY-IN ERP-BATCH-O2C-MASTER-PARTY-OUT ERP-BATCH-O2C-ORDER-STATUS-UPDATE-OUT ERP-BATCH-O2C-RETAIL-GL-IN ERP-BATCH-O2C-SALES-ORDER-IN ERP-BATCH-O2C-SHIPMENT-CONFIRMATION-IN ERP-BATCH-O2C-SHIPMENT-REQUEST-OUT ERP-BATCH-P2P-ADVANCE-SHIPMENT-NOTICE-OUT ERP-BATCH-P2P-COMMISSIONS-IN ERP-BATCH-P2P-PO-RECEIPT-IN ERP-BATCH-P2P-PO-RECEIPT-OUT ERP-BATCH-P2P-REQUISITION-IN ERP-BATCH-P2P-SUPPLIER-PAYMENTS-OUT ERP-BATCH-RL-RETAIL-RMA-RECEIPT-IN ERP-BATCH-RL-RETURN-TO-MANUFACTURER-OUT ERP-BATCH-RL-RMA-DOA-ELF-IN ERP-BATCH-RL-RMA-EXPECTED-OUT ERP-BATCH-RL-RMA-RECEIPT-IN ERP-BATCH-SCM-INTERORG-TRANSFER-IN ERP-BATCH-SCM-MASTER-ITEM-OUT ERP-BATCH-SCM-STOCK-ADJUSTMENTS-IN ERP-BATCH-SCM-STOCK-RECONCILIATION-IN ERP-BATCH-SCM-SUBINVENTORY-MOVEMENT-IN ERP-BATCH-SCM-WORK-ORDER-COMPLETE-IN ERP-BATCH-SCM-WORK-ORDER-OUT"

url=$1
if [ -n "$url" -a -z "`echo $url|grep api/`" ]; then
    url="${url}/api/latest"
fi

for wf in $master_wfs; do
    qrest post $url/workflows/$wf/createOrder staticdata='(a=a)'
done

qrest post $url/workflows/ERP-BATCH-FIN-GL-IN/createOrder staticdata={batch_id=1}
