%new-style
%strict-args
%require-types
%enable-all-warnings

class MaxisCrmNewCheck inherits QorusNormalStep {
    primary() {
        int status = 1;
        string msg = "OK: A check completed with no warnings or errors";
        int goodness = (rand() % 10) + 10;
        hash<auto> info = {
            "test-info": {
                "title": "A New Test",
                "detail": sprintf("OK: thie test returned a goodness value of %d", goodness),
            },
        };

        updateDynamicData({
            ("step" + getStepInfo().stepid): {
                "status": status,
                "message": msg,
                "metadata": info,
            },
        });
    }
}
