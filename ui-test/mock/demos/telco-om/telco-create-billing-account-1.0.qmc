%new-style
%strict-args
%require-types
%enable-all-warnings

class TelcoCreateBillingAccount {
    static auto getName(auto val, hash<auto> record) {
        # return the business name or the given names + last name
        return MapperApi::expandTemplatedValue("$sensitive-alias:{party-1.value.business_name}")
            ?? (MapperApi::expandTemplatedValue("$sensitive-alias:{party-1.value.given_names}") + " "
                + MapperApi::expandTemplatedValue("$sensitive-alias:{party-1.value.family_name}"));
    }
}
